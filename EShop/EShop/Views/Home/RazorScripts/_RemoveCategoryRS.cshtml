@model IEnumerable<EShop.Models.Product>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">

    $('#remove-category-modal-btn').click(function () {

        var CategoryPostModel = {
            CategoryId: "@ViewBag.CurrentCategoryId"
        }

        $.ajax({
            type: 'POST',
            url: '@Url.Action("DeleteCategory", "Category")',
            data: JSON.stringify(CategoryPostModel),
            dataType: 'json',
            contentType: "application/json",
            success: function (response) {
                if (response == 0) {
                    $('#remove-modal').hide();
                    window.location = '@Url.Action("Index", "Home")'// TODO: return to parent category instead of home/index
                }
                else if (response == 1) {
                    $('#remove-error-modal').attr('hidden', false);
                    $('#remove-error-message').text(" Some unexpected error occured. Please try again!");
                }
            },
            failure: function (response) {
                $('#remove-error-modal').attr('hidden', false);
                $('#remove-error-message').text(" Some unexpected error occured. Please try again!");
            }
        });
    });
</script>